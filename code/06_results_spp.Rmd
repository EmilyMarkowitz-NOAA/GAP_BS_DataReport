---
output:
  word_document:
    pandoc_args: ["--metadata-file=header.yaml"]
    reference_docx: styles_reference.docx
    df_print: kable
csl: "../cite/citestyle.csl"
bibliography: "../cite/bibliography.bib"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, error = FALSE, message = FALSE)
```

```{r}
spp_sci <- report_spp$report_name_scientific[jj]
spp_code <- eval(expr = parse(text = report_spp$species_code[jj]))
spp_common<-report_spp$common_name[jj]
spp_file <- report_spp$file_name[jj]
```

### `r spp_common` (*`r spp_sci`*)

```{r}
# find basic info about species
haul_maxyr_spp<-catch_haul_cruises_maxyr %>% 
  dplyr::filter(species_code %in% spp_code)

haul_compareyr_spp<-catch_haul_cruises_compareyr %>% 
  dplyr::filter(species_code %in% spp_code)

```


```{r}
if (refcontent) {
print("## **EBS**") 

temp<-species_content(
  SURVEY000 = "eastern Bering Sea", 
  SRVY000 = "EBS", 
  haul_maxyr, 
  haul_compareyr_spp, 
  haul_maxyr_spp, 
  length_maxyr, 
  length_type, 
  spp_common, 
  spp_code,
  maxyr, 
  compareyr)

print(temp)
}
```


```{r}
if (refcontent) {

if (SRVY %in% "NEBS") {
  
print(ifelse(SRVY %in% "NEBS", "## **NBS**", "")) 

temp<-species_content(
  SURVEY000 = "northern Bering Sea", 
  SRVY000 = "NBS", 
  haul_maxyr, 
  haul_compareyr_spp, 
  haul_maxyr_spp, 
  length_maxyr, 
  length_type, 
  spp_common, 
  spp_code,
  maxyr, 
  compareyr)

print(temp)
}
}
```



```{r}
if (refcontent) {
print(ifelse(SRVY %in% "NEBS", "## **NEBS**", "")) 

temp<-species_content(
  SURVEY000 = SURVEY, 
  SRVY000 = SRVY, 
  haul_maxyr, 
  haul_compareyr_spp, 
  haul_maxyr_spp, 
  length_maxyr, 
  length_type, 
  spp_common, 
  spp_code,
  maxyr, 
  compareyr)

print(temp)
}
```


```{r}
#text
insert <- readtext(file = paste0(dir_out_rawdata, "/",spp_common,".docx"))
```

`r insert$text`

`r list_figures[paste0("fig_idw_bottemp_", spp_file, "_above")]$res `

`r list_figures[paste0("fig_idw_bottemp_", spp_file, "_below")]$res `

`r list_tables[paste0("tab_cpue_biomass_", spp_file)]$res `



